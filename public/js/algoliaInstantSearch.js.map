{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/js/utils/algoliaInstantSearch.js"],"names":["getCategorySlug","name","split","map","encodeURIComponent","join","getCategoryName","slug","decodeURIComponent","searchClient","algoliasearch","search","instantsearch","indexName","routing","router","routers","history","windowTitle","category","query","queryTitle","createURL","qsModule","routeState","location","urlParts","href","match","baseUrl","queryParameters","page","brands","queryString","stringify","addQueryPrefix","parseURL","pathnameMatches","pathname","parse","slice","stateMapping","stateToRoute","uiState","indexUiState","routeToState","instant_search","menu","categories","refinementList","brand","addWidgets","widgets","searchBox","container","placeholder","hits","templates","empty","item","markup","window","origin","image","_highlightResult","value","details","price","toFixed","pagination","stats","attribute","start"],"mappings":"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","file":"/js/algoliaInstantSearch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","(function() {\r\n    // Returns a slug from the category name.\r\n    // Spaces are replaced by \"+\" to make\r\n    // the URL easier to read and other\r\n    // characters are encoded.\r\n    function getCategorySlug(name) {\r\n        return name\r\n        .split(' ')\r\n        .map(encodeURIComponent)\r\n        .join('+');\r\n    }\r\n\r\n    // Returns a name from the category slug.\r\n    // The \"+\" are replaced by spaces and other\r\n    // characters are decoded.\r\n    function getCategoryName(slug) {\r\n        return slug\r\n        .split('+')\r\n        .map(decodeURIComponent)\r\n        .join(' ');\r\n    }\r\n\r\n    const searchClient = algoliasearch(\r\n        \"VGYGZLD5IE\",\r\n        \"08ef944b22bafb7eda508b643fe26518\"\r\n    );\r\n\r\n    const search = instantsearch({\r\n        indexName: \"products\",\r\n        searchClient,\r\n        routing: {\r\n            router: instantsearch.routers.history({\r\n                windowTitle({ category, query }) {\r\n                    const queryTitle = query ? `Results for \"${query}\"` : 'Search';\r\n        \r\n                    // if (category) {\r\n                    //     return `${category} â€“ ${queryTitle}`;\r\n                    // }\r\n        \r\n                    return queryTitle;\r\n                },\r\n        \r\n                createURL({ qsModule, routeState, location }) {\r\n                    const urlParts = location.href.match(/^(.*?)\\/algoliasearch/);\r\n                    const baseUrl = `${urlParts ? urlParts[1] : ''}/`;\r\n        \r\n                    // const categoryPath = routeState.category\r\n                    //     ? `${getCategorySlug(routeState.category)}/`\r\n                    //     : '';\r\n                    const queryParameters = {};\r\n        \r\n                    if (routeState.query) {\r\n                        queryParameters.query = encodeURIComponent(routeState.query);\r\n                    }\r\n\r\n                    if (routeState.page !== 1) {\r\n                        queryParameters.page = routeState.page;\r\n                    }\r\n\r\n                    if (routeState.brands) {\r\n                        queryParameters.brands = routeState.brands.map(encodeURIComponent);\r\n                    }\r\n        \r\n                    const queryString = qsModule.stringify(queryParameters, {\r\n                        addQueryPrefix: true,\r\n                        // arrayFormat: 'repeat'\r\n                    });\r\n        \r\n                // return `${baseUrl}algoliasearch/${categoryPath}${queryString}`;\r\n                return `${baseUrl}algoliasearch${queryString}`;\r\n                },\r\n        \r\n                parseURL({ qsModule, location }) {\r\n                    const pathnameMatches = location.pathname.match(/algoliasearch\\/(.*?)?$/);\r\n                    // const category = getCategoryName(\r\n                    //     (pathnameMatches && pathnameMatches[1]) || ''\r\n                    // );\r\n\r\n                    const { query = '', page, brands = [] } = qsModule.parse(\r\n                        location.search.slice(1)\r\n                    );\r\n                \r\n                    // `qs` does not return an array when there's a single value.\r\n                    // const allBrands = Array.isArray(brands)\r\n                    //     ? brands\r\n                    //     : [brands].filter(Boolean);\r\n        \r\n                    return {\r\n                        query: decodeURIComponent(query),\r\n                        page,\r\n                        // brands: allBrands.map(decodeURIComponent),\r\n                        // category\r\n                    };\r\n                }\r\n            }),\r\n        \r\n            stateMapping: {\r\n                stateToRoute(uiState) {\r\n                    const indexUiState = uiState['products'] || {};\r\n        \r\n                    return {\r\n                        query: indexUiState.query,\r\n                        page: indexUiState.page,\r\n                        // brands: indexUiState.refinementList && indexUiState.refinementList.brand,\r\n                        // category: indexUiState.menu && indexUiState.menu.categories\r\n                    };\r\n                },\r\n        \r\n                routeToState(routeState) {\r\n                    return {\r\n                        instant_search: {\r\n                            query: routeState.query,\r\n                            page: routeState.page,\r\n                            menu: {\r\n                                categories: routeState.category\r\n                            },\r\n                            refinementList: {\r\n                                brand: routeState.brands\r\n                            }\r\n                        }\r\n                    };\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    search.addWidgets([\r\n        instantsearch.widgets.searchBox({\r\n            container: \"#searchbox\",\r\n            placeholder: \"Filter your wishes products here ...\"\r\n        }),\r\n\r\n        instantsearch.widgets.hits({\r\n            container: \"#hits\",\r\n            templates: {\r\n                empty: \"No results\",\r\n                item: function(item) {\r\n                    const markup = `\r\n                        <a href=\"${window.location.origin}/shop/${item.slug}\">\r\n                        <div class=\"instantsearch-result\">\r\n                            <div>\r\n                                <img src=\"${window.location.origin}/storage/${item.image}\" alt=\"img\" class=\"algolia-thumb-result\">\r\n                            </div>\r\n                            <div>\r\n                                <div class=\"result-title\">\r\n                                    ${item._highlightResult.name.value}\r\n                                </div>\r\n                                <div class=\"result-details\">\r\n                                    ${item._highlightResult.details.value}\r\n                                </div>\r\n                                <div class=\"result-price\">\r\n                                    $${(item.price / 100).toFixed(2)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </a>\r\n                    <hr>\r\n                    `\r\n                    return markup;\r\n                }\r\n            }\r\n        }),\r\n\r\n        instantsearch.widgets.pagination({\r\n            container: \"#pagination\"\r\n        }),\r\n\r\n        instantsearch.widgets.stats({\r\n            container: \"#stats\"\r\n        }),\r\n\r\n        instantsearch.widgets.refinementList({\r\n            container: \"#refinement-list\",\r\n            attribute: \"categories\"\r\n        })\r\n    ]);\r\n\r\n    search.start();\r\n})();\r\n"],"sourceRoot":""}